<!DOCTYPE html>
<html lang="cs">
<head>
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="title" content="JavaVids: Java Videos" />
<meta name="description" content="JavaVids contains free online video tutorials." />
<meta name="keywords" content="javavids, java, video, tutorials" />
<meta name="author" content="Jirka Pinkas" />
<meta name="robots" content="index, follow" /> 
<meta name="rating" content="general" />
<title>JAXB tutorial part 3&#58; marshalling and unmarshalling data</title>

    <link rel="stylesheet" type="text/css" href="/js/app.bundle.css?timestamp=1641886921" />
    <script type="text/javascript" src="/js/app.bundle.js?timestamp=1641886921"></script>


</head>
<body>
  <div class="container">
<header class="d-flex flex-wrap justify-content-center py-3 mb-4 border-bottom" style="background-color: white;margin-top:10px;">
    <a href="/" class="d-flex align-items-center mb-3 mb-md-0 me-md-auto text-dark text-decoration-none">
      <img src="/img/logo.jpg" class="logo" />
    </a>
</header>
</div>
  <div class="container">
      <div class="row">
          <div class="col-md-3 card order-last">
            <div class="card-body">
              <script async="async" src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- javavids-vlevo -->
<ins class="adsbygoogle"
     style="display:inline-block;width:160px;height:600px"
     data-ad-client="ca-pub-7085637172523095"
     data-ad-slot="1753062007"></ins>
<script>
    (adsbygoogle = window.adsbygoogle || []).push({});
</script>

            </div>
          </div>
          <div class="col-md-9">
            <div class="card">
              <div class="card-body">
                <nav aria-label="breadcrumb">
                  <ol class="breadcrumb">
                      <li class="breadcrumb-item"><a href="/">Home</a></li>
                      <li class="breadcrumb-item"><a href="/tutorial/java-xml">Java & XML tutorial</a></li>
                      <li class="breadcrumb-item active" aria-current="page">JAXB tutorial part 3&#58; marshalling and unmarshalling data</li>
                  </ol>
                </nav>

                <h1>
                  JAXB tutorial part 3&#58; marshalling and unmarshalling data
                </h1>

                <p>
                  How to unmarshall and marshall data to XML using JAXB.
                </p>

                <p>
    <script async="async" src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <!-- javavids-banner-responsive -->
    <ins class="adsbygoogle"
        style="display:block"
        data-ad-client="ca-pub-7085637172523095"
        data-ad-slot="7621866008"
        data-ad-format="auto"></ins>
    <script>
        (adsbygoogle = window.adsbygoogle || []).push({});
    </script>
</p>

                <p align="center">
                  <iframe width="750" height="411" src="https://www.youtube.com/embed/AVVbuVn0N98" frameborder="0"></iframe>
                </p>
    
                <div class="content">
                  <p>In the last screencast I generated classes from&nbsp; XSD file. Now I will use&nbsp; them to work with XML file.<br /><br />To read data from this XML file we must create an instance of JAXBContext. This class has a constructor, that requires either package where are generated classes, or some class from this package. In this class are methods createMarshaller() and createUnmarshaller(). Using unmarshaller we can unmarshall (read data) from XML file to objects. Using marshaller we can save objects to XML files.<br /><br />I will create unmarshaller and unmarshal file sitemap.xml. Notice that using this operation I will get instance of object annotated with @XmlRootElement. Next I can easily work with XML using Java objects. For example I will print all URLs in this file.<br /><br />I can also easily modify XML, for example I will create some new URL and add it to list and next marshal the whole XML to another file.</p>
<pre class="prettyprint">    JAXBContext jaxbContext = JAXBContext.newInstance(ObjectFactory.class);
    Unmarshaller unmarshaller = jaxbContext.createUnmarshaller();
    Urlset urlset = (Urlset) unmarshaller.unmarshal(new File("sitemap.xml"));
    
    List&lt;TUrl&gt; list = urlset.getUrl();
    for (TUrl tUrl : list) {
      System.out.println(tUrl.getLoc());
    }
    
    TUrl url = new TUrl();
    url.setLoc("http://itworks.com/");
    list.add(url);
    
    Marshaller marshaller = jaxbContext.createMarshaller();
    marshaller.marshal(urlset, new File("sitemap2.xml"));
</pre>
<p>&nbsp;</p>
<p>&nbsp;</p>

                </div>
              </div>
            </div>
          </div>
        </div>
      <footer class="d-flex flex-wrap justify-content-between align-items-center py-3 my-4 border-top">
    <div class="col-md-12 d-flex align-items-center" style="color: black;">
        &copy; 2011 - 2022
        &nbsp;
        <a href='http://plus.google.com/100661368478614117231' rel='author' target='_blank'>Jirka Pinkas</a>
        &nbsp;
        <span>All Rights Reserved.</span>
        &nbsp;
        <span>My other projects:</span>
        &nbsp;
        <a href='https://www.topjavablogs.com' target='_blank'>Top Java Blogs</a>
        &nbsp;
        <a href='https://javalibs.com' target='_blank'>Search Maven Central Repository</a>
        &nbsp;
        <a href='https://www.java-skoleni.cz' target='_blank'>Java školení</a>
        &nbsp;
        <a href='https://www.sql-skoleni.cz' target='_blank'>SQL školení</a>
    </div>
  </footer>

  </div>
  <script>
    $(function () {
          $.each($(".content"), function(index, value) {
              value.innerHTML = App.linkify(value.innerHTML);
          });
      })
  </script>
  </body>
</html>